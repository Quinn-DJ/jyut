# 粤语教学网站

一个简单的粤语学习辅助网站，帮助用户学习粤语发音。

## 功能特点

- 按课程分类展示学习内容
- 提供原文和粤拼标注对照
- 支持音频播放功能
- 响应式设计，支持移动设备
- 基于现有Sound目录结构自动适配

## 项目结构

```
├── index.html          # 主页面
├── css/
│   └── style.css      # 样式文件
├── js/
│   └── app.js         # 应用逻辑
├── data/
│   └── courses.json   # 课程数据
├── Sound/             # 音频文件目录（现有）
│   ├── Class01/
│   │   ├── a.opus     # Part A音频
│   │   ├── b_1.opus   # Part B第1段音频
│   │   └── b_2.opus   # Part B第2段音频
│   └── Class02/
│       ├── a.opus
│       ├── b_1.opus
│       └── b_2.opus
└── README.md          # 项目说明
```

## 使用方法

### 本地使用
1. 克隆或下载项目到本地
2. 确保Sound目录包含相应的音频文件
3. 在浏览器中打开index.html文件
4. 选择课程和部分开始学习

### 在线访问
项目已部署到GitHub Pages，可以直接访问在线版本。

### 基本操作
1. **选择课程**：在课程列表中点击任意课程
2. **选择部分**：点击Part A或Part B按钮
3. **播放音频**：点击播放按钮听取标准发音
4. **学习内容**：对照原文和粤拼学习发音规则



## GitHub Pages部署

本项目支持GitHub Pages部署：

1. 将项目推送到GitHub仓库
2. 在仓库设置中启用GitHub Pages
3. 选择从main分支部署
4. 访问提供的GitHub Pages URL

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

支持Opus音频格式的现代浏览器。

## 开发状态

项目已完成开发，实现的功能包括：
- [x] 基础项目结构
- [x] 文件扫描功能 - 自动扫描Sound目录，识别音频文件
- [x] UI组件开发 - Header、CourseList、ContentDisplay组件
- [x] 音频播放功能 - 完整的AudioPlayer类和音频控制
- [x] 响应式设计 - 移动端适配和媒体查询
- [x] 数据集成 - 音频文件集成和测试数据
- [x] 应用逻辑和状态管理 - 完整的状态管理系统
- [x] 性能优化 - 懒加载、预加载、性能监控
- [x] 用户体验增强 - 音频进度显示等

## 内容更新指南

### 添加新课程

1. **准备音频文件**
   - 在Sound目录下创建新的课程文件夹（如Class03）
   - 添加Part A音频文件：`a.opus`
   - 添加Part B音频文件：`b_1.opus`, `b_2.opus`等

2. **更新课程数据**
   - 编辑`data/courses.json`文件
   - 按照现有格式添加新课程的内容数据
   - 确保音频文件路径正确

3. **验证更新**
   - 刷新页面，新课程应自动出现在课程列表中
   - 测试音频播放功能是否正常

### 修改现有内容

1. **更新文本内容**
   - 编辑`data/courses.json`中对应课程的`originalText`和`jyutping`字段
   - 保存后刷新页面即可看到更新

2. **替换音频文件**
   - 直接替换Sound目录中的对应音频文件
   - 保持文件名不变以确保正确加载

### 音频文件管理

#### 支持的音频格式
- **主要格式**：Opus (.opus) - 推荐使用，文件小，质量高
- **备选格式**：MP3 (.mp3), WAV (.wav), OGG (.ogg)

#### 文件命名规则
- **Part A音频**：`a.opus`
- **Part B音频**：`b_1.opus`, `b_2.opus`, `b_3.opus`等
- 文件名必须严格按照此格式，系统会自动识别

#### 音频质量建议
- **采样率**：44.1kHz或48kHz
- **比特率**：128kbps以上（Opus格式建议64-128kbps）
- **声道**：单声道或立体声均可
- **时长**：建议每段不超过30秒

#### 文件大小优化
- 使用Opus格式可显著减小文件大小
- 对于语音内容，64kbps的Opus格式通常足够
- 避免使用过高的比特率，以提高加载速度

## 技术说明

### 系统架构
- **前端**：原生HTML5 + CSS3 + JavaScript
- **音频处理**：HTML5 Audio API
- **数据存储**：JSON文件
- **部署**：GitHub Pages静态托管

### 核心功能模块
1. **文件扫描系统**：自动识别Sound目录结构
2. **音频播放器**：支持多种格式，错误处理完善
3. **状态管理**：课程选择和播放状态管理
4. **响应式UI**：适配各种设备屏幕
5. **性能优化**：音频懒加载和预加载策略

### 浏览器兼容性详情
- **Chrome 60+**：完全支持，推荐使用
- **Firefox 55+**：完全支持
- **Safari 11+**：支持，但Opus格式可能需要转换
- **Edge 79+**：完全支持
- **移动浏览器**：iOS Safari 11+, Android Chrome 60+

### 故障排除

#### 音频无法播放
1. 检查音频文件是否存在且路径正确
2. 确认浏览器支持音频格式
3. 检查浏览器是否阻止了自动播放
4. 尝试手动点击播放按钮

#### 课程不显示
1. 检查Sound目录结构是否正确
2. 确认至少有一个a.opus文件存在
3. 检查data/courses.json格式是否正确
4. 查看浏览器控制台是否有错误信息

#### 页面加载缓慢
1. 检查网络连接
2. 音频文件可能过大，考虑压缩
3. 清除浏览器缓存后重试

## 开发和贡献

### 本地开发环境
1. 克隆项目到本地
2. 使用本地HTTP服务器运行（如Live Server）
3. 不要直接用file://协议打开，可能导致CORS问题

### 代码结构
```
├── index.html          # 主页面
├── css/style.css       # 样式文件
├── js/app.js          # 主要应用逻辑
├── data/courses.json  # 课程数据
├── Sound/             # 音频文件目录
└── test-*.html        # 测试页面
```

### 测试
项目包含多个测试页面：
- `test-audio-integration.html` - 音频集成测试
- `test-audio-player.html` - 音频播放器测试
- `test-file-scanning.html` - 文件扫描测试
- `test-requirements-validation.html` - 需求验证测试

## 许可证

MIT License

## 更新日志

### v1.0.0 (2024)
- 完整实现所有核心功能
- 支持自动文件扫描
- 完善的音频播放系统
- 响应式设计
- 性能优化和用户体验增强